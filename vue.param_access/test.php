SELECT * FROM (SELECT ut.idUtilisateur, af.idClasse, af.idAnneeSco,  ut.nomUtilisateur, ut.postnomUtilisateur, ut.prenomUtilisateur, ut.telUtilisateur, ut.mailUtilisateur, ut.idGenre, ut.photoUtilisateur  FROM `org_classe` as cls INNER JOIN org_affectation as af ON af.idClasse=cls.idClasse INNER JOIN param_utilisateur as ut ON af.idUtilisateur=ut.idUtilisateur INNER JOIN org_anneesco as ansc ON af.idAnneeSco=ansc.idAnneeSco INNER JOIN org_promotion as pm ON pm.idPromotion=cls.idPromotion INNER JOIN org_section as st ON st.idSection=cls.idSection INNER JOIN org_unite as un ON un.idUnite=cls.idUnite WHERE af.actif=1

UNION

SELECT coa.idUtilisateur, coa.idClasse, crs.idAnneeSco,  ut.nomUtilisateur, ut.postnomUtilisateur, ut.prenomUtilisateur, ut.telUtilisateur, ut.mailUtilisateur, ut.idGenre, ut.photoUtilisateur FROM crs_co_animation as coa INNER JOIN crs_cours as crs ON coa.idCours=crs.idCours INNER JOIN param_utilisateur as ut ON coa.idUtilisateur=ut.idUtilisateur INNER JOIN org_classe as cls ON cls.idClasse=coa.idClasse INNER JOIN org_promotion as pm ON pm.idPromotion=cls.idPromotion INNER JOIN org_section as st ON st.idSection=cls.idSection INNER JOIN org_unite as un ON un.idUnite=cls.idUnite) AS sel WHERE sel.idUtilisateur=27 AND sel.idAnneeSco=20  GROUP BY sel.idClasse
